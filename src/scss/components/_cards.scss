.card {
  background-color: $bg-secondary;
  border: 1px solid $border-color;
  border-radius: $border-radius;
  margin-bottom: $element-spacing;
  box-shadow: $shadow-sm;
  
  .card-header {
    background-color: $bg-secondary;
    border-bottom: 1px solid $border-color;
    color: $text-primary;
    padding: $spacing-unit;
  }
  
  .card-body {
    padding: $spacing-unit;
  }
  
  .card-footer {
    background-color: $bg-secondary;
    border-top: 1px solid $border-color;
    padding: $spacing-unit;
  }
  
  &.card-hover {
    transition: $transition-base;
    
    &:hover {
      transform: translateY(-2px);
      box-shadow: $shadow-md;
    }
  }
  
  &.card-success {
    border-left: 4px solid $success-color;
  }
  
  &.card-warning {
    border-left: 4px solid $warning-color;
  }
  
  &.card-danger {
    border-left: 4px solid $danger-color;
  }
  
  &.card-info {
    border-left: 4px solid $info-color;
  }
}

// Adaptations pour les petits écrans
@include small-screen {
  .card {
    margin-bottom: $spacing-unit;
    
    .card-header,
    .card-body,
    .card-footer {
      padding: $spacing-unit * 0.75;
    }
  }
}

// Adaptations pour les appareils tactiles
@include touch-device {
  .card {
    .card-header,
    .card-body,
    .card-footer {
      padding: $spacing-unit * 1.25;
    }
  }
}

// Carrousel de cartes pour mobile
.card-carousel {
  @include swipeable;
  @include swipe-indicators;
  margin: 0 -$container-padding;
  padding: 0 $container-padding;
  
  .carousel-container {
    @include flex(row, flex-start, stretch);
    gap: $spacing-unit * 2;
    padding: $spacing-unit * 2 0;
  }
  
  .carousel-item {
    @include card;
    flex: 0 0 85%;
    margin-bottom: 0;
    
    @include respond-to("sm") {
      flex: 0 0 40%;
    }
    
    @include respond-to("md") {
      flex: 0 0 30%;
    }
  }
}

// Cartes empilées pour mobile
.card-stack {
  position: relative;
  height: 300px;
  margin-bottom: $spacing-unit * 4;
  
  @include respond-to("md") {
    display: none;
  }
  
  .stacked-card {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    @include card;
    @include transition(transform, box-shadow);
    
    &:nth-child(1) {
      transform: translateY(0);
      z-index: 3;
    }
    
    &:nth-child(2) {
      transform: translateY(10px);
      z-index: 2;
    }
    
    &:nth-child(3) {
      transform: translateY(20px);
      z-index: 1;
    }
    
    &.active {
      transform: translateY(0) scale(1.02);
      box-shadow: $shadow-lg;
    }
  }
  
  .stack-indicators {
    position: absolute;
    bottom: -$spacing-unit * 3;
    left: 0;
    right: 0;
    @include flex(row, center, center);
    gap: $spacing-unit;
    
    .stack-indicator {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background-color: $border-color;
      @include transition(background-color);
      
      &.active {
        background-color: $accent-color;
      }
    }
  }
}

// Cartes avec actions de glissement pour mobile
.card-swipeable {
  position: relative;
  overflow: hidden;
  
  .card-swipe-content {
    @include transition(transform);
  }
  
  .card-swipe-actions {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    @include flex(row, flex-end, stretch);
    
    .swipe-action {
      @include flex(row, center, center);
      padding: 0 $spacing-unit * 2;
      color: white;
      font-weight: 500;
      
      &.action-edit {
        background-color: $info-color;
      }
      
      &.action-delete {
        background-color: $danger-color;
      }
    }
  }
  
  &.swiped-left {
    .card-swipe-content {
      transform: translateX(-120px);
    }
  }
  
  &.swiped-right {
    .card-swipe-content {
      transform: translateX(120px);
    }
  }
}

// Grille responsive
.card-grid {
  @include responsive-grid(4);
  
  &.reorder-mobile {
    @media (max-width: $breakpoint-md) {
      .priority-high {
        order: -1;
      }
      
      .priority-low {
        order: 1;
      }
    }
  }
}

// Variantes
&.card-compact {
  .card-header, .card-body, .card-footer {
    padding: $spacing-unit;
  }
} 